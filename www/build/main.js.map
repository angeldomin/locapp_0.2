{"version":3,"sources":["../../src/pages/home/home.ts","../../src/providers/firebase-service/firebase-service.ts","../../node_modules/@angular/core/esm5 lazy","../../src lazy","../../src/models/usuario.ts","../../src/providers/ble-service/ble-service.ts","../../src/pages/list/list.ts","../../src/app/main.ts","../../src/app/app.module.ts","../../src/models/dispositivo.ts","../../src/app/app.component.ts","../../src/pages/buscador/buscador.ts","../../src/pages/usuario/usuario.ts","../../src/pages/new-dispositivo/new-dispositivo.ts"],"names":[],"mappings":"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","file":"main.js","sourcesContent":["import { Component } from '@angular/core';\nimport { NavController } from 'ionic-angular';\n\n@Component({\n  selector: 'page-home',\n  templateUrl: 'home.html'\n})\nexport class HomePage {\n\n  constructor(public navCtrl: NavController) {  \n\n  }\n\n} \n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/home/home.ts","import { HttpClient } from '@angular/common/http';\r\nimport { Injectable } from '@angular/core';\r\nimport * as firebase from 'firebase';\r\nimport { Usuario } from '../../models/usuario';\r\nimport { Firebase } from '@ionic-native/firebase';\r\nimport { AngularFireList } from 'angularfire2/database/interfaces';\r\nimport { AngularFireDatabase } from 'angularfire2/database';\r\nimport { Observable } from 'rxjs/Observable';\r\n\r\n/*  \r\n  Este service se encargará de las operaciones con la base de datos firebase.\r\n*/\r\n \r\n@Injectable()\r\nexport class FirebaseServiceProvider {\r\n\r\n  usuariosRef: AngularFireList<any>;\r\n  usuariosSalida$: Observable<any[]>;\r\n\r\n  constructor(\r\n    public http: HttpClient,\r\n    private _firebase: Firebase,\r\n    public dataBase: AngularFireDatabase\r\n  ) {\r\n    console.log('Hello FirebaseServiceProvider Provider');\r\n    firebase.auth().signInAnonymously().catch(function(error) {\r\n      // Handle Errors here.\r\n      // var errorCode = error.code;\r\n      var errorMessage = error.message;\r\n      console.log('error en signInAnonymously', errorMessage);\r\n    });\r\n\r\n    firebase.auth().onAuthStateChanged(function(user) {\r\n      console.log('Cambio en auth');\r\n      if (user) {\r\n        // User is signed in.\r\n        // var isAnonymous = user.isAnonymous;\r\n        var uid = user.uid; console.log(' :O ',uid);\r\n        /* var userRef = app.dataInfo.child(app.users);\r\n    \r\n        var useridRef = userRef.child(app.userid);\r\n    \r\n        useridRef.set({\r\n          locations: \"\",\r\n          theme: \"\",\r\n          colorScheme: \"\",\r\n          food: \"\"\r\n        });*/\r\n    \r\n      } else {\r\n        // User is signed out.\r\n        // ...\r\n      }\r\n      // ...\r\n    });\r\n\r\n    this.usuariosRef = this.dataBase.list('/usuarios/');\r\n    this.usuariosSalida$ = this.usuariosRef.snapshotChanges().map(changes => {\r\n      return changes.map(c => ({ key: c.payload.key, ...c.payload.val() }));\r\n    });\r\n\r\n  }\r\n \r\n  newUsuario(usuario:Usuario) {\r\n        \r\n    const usuariosRef: firebase.database.Reference = firebase.database().ref('/usuarios/');\r\n        \r\n    const _id = usuario._id;\r\n    const nombre = usuario.nombre;\r\n    const apellido1 = usuario.apellido1;\r\n    const apellido2 = usuario.apellido2;\r\n    const edad = usuario.edad;\r\n    const imagen = usuario.image;\r\n    const id_dispositivo = usuario.id_dispositivo;\r\n\r\n    console.log('Probando a añadir nuevo usuario');\r\n    \r\n    /*usuariosRef.set({\r\n      _id,\r\n      nombre,\r\n      apellido1,\r\n      apellido2,\r\n      edad,\r\n      imagen,\r\n      id_dispositivo \r\n    });*/\r\n    // mirar aquí https://firebase.google.com/docs/database/admin/save-data\r\n    // este funciona y en newPostRef guardamos la referencia unica al objeto que guardamos\r\n    var newPostRef = usuariosRef.push({\r\n      _id,\r\n      nombre,\r\n      apellido1,\r\n      apellido2,\r\n      edad,\r\n      imagen,\r\n      id_dispositivo\r\n    });\r\n    var postId = newPostRef.key; // obtenemos el id único\r\n    // TODO TAJO usuariosRef.child(\"postId\").set(_id: postId);\r\n    // console.log(this._firebase.getValue('usuarios', '4ltcRquTh4zI0XbhkMOE'));\r\n    // console.log(usuariosRef);\r\n    console.log('provider firebase');\r\n  }\r\n\r\n  editUsuario(usuario:Usuario) {\r\n    // mirar a ver si se hace con set\r\n  }\r\n\r\n  deleteUsuario(usuario){ \r\n    // mirar removeValue() o setValue() null\r\n    const usuariosRef: firebase.database.Reference = firebase.database().ref('/usuarios/');\r\n    var userRef = usuariosRef. child(usuario);\r\n    \r\n  }\r\n\r\n  getUsuario() {\r\n    // const usuariosRef: firebase.database.Reference = firebase.database().ref('/usuarios/');\r\n    // console.log(usuariosRef.toJSON);\r\n   \r\n  }\r\n\r\n  /*\r\nTemas por hacer:\r\n\r\n- Generar apk o buscar método para probarlo en el movil\r\n- Terminar la busqueda de dispositivos y comprobarla \r\n(necesitamos bluetooth así que necesitamos apk o manera de probarlo en movil para esto)\r\n- Preparar aviso cuando se separe cierta distancia\r\n- Hacer página de configurar distancia para el aviso\r\n- Implementar borrado de usuario de base de datos\r\n- Implementar edición de usuario\r\n- Textos en literales para cambio de idioma etc\r\n- Mostrar mensaje de todo ok cuando damos de alta nuevo usuario porque redirije al inicio \r\ny no sabemos si ha ido bien -> Con Alert puede quedar bien\r\n\r\n\r\nDudas:\r\n\r\n- ¿En la pantalla de inicio que queremos que aparezca?\r\n\r\n- ¿Que datos serán necesarios de los usuarios (niños)? \r\nPara saber que quetenemos que guardar en base de  datos y recuperar en los registros.\r\n\r\n- Colores, diseño, etc. ¿lo hago como yo vea?\r\n  */\r\n\r\n  \r\n} \r\n\n\n\n// WEBPACK FOOTER //\n// ./src/providers/firebase-service/firebase-service.ts","function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncatched exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = 167;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/@angular/core/esm5 lazy\n// module id = 167\n// module chunks = 3","var map = {\n\t\"../pages/buscador/buscador.module\": [\n\t\t508,\n\t\t2\n\t],\n\t\"../pages/new-dispositivo/new-dispositivo.module\": [\n\t\t510,\n\t\t1\n\t],\n\t\"../pages/usuario/usuario.module\": [\n\t\t509,\n\t\t0\n\t]\n};\nfunction webpackAsyncContext(req) {\n\tvar ids = map[req];\n\tif(!ids)\n\t\treturn Promise.reject(new Error(\"Cannot find module '\" + req + \"'.\"));\n\treturn __webpack_require__.e(ids[1]).then(function() {\n\t\treturn __webpack_require__(ids[0]);\n\t});\n};\nwebpackAsyncContext.keys = function webpackAsyncContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackAsyncContext.id = 207;\nmodule.exports = webpackAsyncContext;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src lazy\n// module id = 207\n// module chunks = 3","export class Usuario {\r\n    constructor( \r\n        public _id: string,\r\n        public nombre: string,\r\n        public apellido1: string,\r\n        public apellido2: string,\r\n        public edad: number,\r\n        public image: string,\r\n        public id_dispositivo: string\r\n    ) {}\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/models/usuario.ts","import { HttpClient } from '@angular/common/http';\nimport { Injectable } from '@angular/core';\nimport { BLE } from '@ionic-native/ble';\nimport { Observable } from 'rxjs/Observable';\nimport { Dispositivo } from '../../models/dispositivo';\n\n/*\n  Generated class for the BleServiceProvider provider.\n\n  Servicio que se encargará de lo relacionado con bluetooth\n*/\n\n@Injectable()\nexport class BleServiceProvider {\n\n  public dispositivosSalida$: Observable<any[]>; // observable para recuperar los dispositivos que encontramos al escanear\n\n  private dummyData = { \n    json: function() { \n        return [ { \n            name: 'Battery Demo',\n            id: '20:FF:D0:FF:D1:C0',\n            advertising: [2,1,6,3,3,15,24,8,9,66,97,116,116,101,114,121],\n            rssi: -55\n        }, { \n            name: 'Battery Demo',\n            id: '20:FF:D0:FF:D1:C0',\n            advertising: [2,1,6,3,3,15,24,8,9,66,97,116,116,101,114,121],\n            rssi: -55 } \n        ]\n    }\n  } \n\n  constructor(\n    public http: HttpClient,\n    private _ble: BLE\n  ) {\n    console.log('Hello BleServiceProvider Provider');   \n    /*\n    this.dispositivosSalida$ = [ {\n        name: 'Battery Demo',\n        id: '20:FF:D0:FF:D1:C0',\n        advertising: [2,1,6,3,3,15,24,8,9,66,97,116,116,101,114,121],\n        rssi: -55\n    }, { \n        name: 'Battery Demo',\n        id: '20:FF:D0:FF:D1:C0',\n        advertising: [2,1,6,3,3,15,24,8,9,66,97,116,116,101,114,121],\n        rssi: -55 } \n    ];*/\n    this.dispositivosSalida$ = null;  \n  }\n  \n\n  scan() { // sin probar de momento\n    this._ble.scan([], 5).subscribe(response => {\n      this.dispositivosSalida$ = response;\n    })  \n  }\n\n}\n\n\n/* información de: https://ionicframework.com/docs/native/ble/\nPeripheral Data\n\nPeripheral Data is passed to the success callback when scanning and connecting. Limited data is passed when scanning.\n\n{\n    'name': 'Battery Demo',\n    'id': '20:FF:D0:FF:D1:C0',\n    'advertising': [2,1,6,3,3,15,24,8,9,66,97,116,116,101,114,121],\n    'rssi': -55\n}\n\nAfter connecting, the peripheral object also includes service, characteristic and descriptor information.\n\n{\n    'name': 'Battery Demo',\n    'id': '20:FF:D0:FF:D1:C0',\n    'advertising': [2,1,6,3,3,15,24,8,9,66,97,116,116,101,114,121],\n    'rssi': -55,\n    'services': [\n        '1800',\n        '1801',\n        '180f'\n    ],\n    'characteristics': [\n        {\n            'service': '1800',\n            'characteristic': '2a00',\n            'properties': [\n                'Read'\n            ]\n        },\n        {\n            'service': '1800',\n            'characteristic': '2a01',\n            'properties': [\n                'Read'\n            ]\n        },\n        {\n            'service': '1801',\n            'characteristic': '2a05',\n            'properties': [\n                'Read'\n            ]\n        },\n        {\n            'service': '180f',\n            'characteristic': '2a19',\n            'properties': [\n                'Read'\n            ],\n            'descriptors': [\n                {\n                    'uuid': '2901'\n                },\n                {\n                    'uuid': '2904'\n                }\n            ]\n        }\n    ]\n}\n\nAdvertising Data\n\nBluetooth advertising data is returned in when scanning for devices. The format varies depending on your platform. On Android advertising data will be the raw advertising bytes. iOS does not allow access to raw advertising data, so a dictionary of data is returned.\n\nThe advertising information for both Android and iOS appears to be a combination of advertising data and scan response data.\nAndroid\n\n {\n     'name': 'demo',\n     'id': '00:1A:7D:DA:71:13',\n     'advertising': ArrayBuffer,\n    'rssi': -37\n}\n\nConvert the advertising info to a Uint8Array for processing. var adData = new Uint8Array(peripheral.advertising)\niOS\n\nNote that iOS uses the string value of the constants for the Advertisement Data Retrieval Keys. This will likely change in the future.\n\n{\n    'name': 'demo',\n    'id': 'D8479A4F-7517-BCD3-91B5-3302B2F81802',\n    'advertising': {\n        'kCBAdvDataChannel': 37,\n        'kCBAdvDataServiceData': {\n            'FED8': {\n                'byteLength': 7 // data not shown\n            }\n        },\n        'kCBAdvDataLocalName': 'demo',\n        'kCBAdvDataServiceUUIDs': ['FED8'],\n        'kCBAdvDataManufacturerData': {\n            'byteLength': 7  // data not shown\n        },\n        'kCBAdvDataTxPowerLevel': 32,\n        'kCBAdvDataIsConnectable': true\n    },\n    'rssi': -53\n}\n\nTyped Arrays\n\nThis plugin uses typed Arrays or ArrayBuffers for sending and receiving data.\n\nThis means that you need convert your data to ArrayBuffers before sending and from ArrayBuffers when receiving.\n\n// ASCII only\nfunction stringToBytes(string) {\n   var array = new Uint8Array(string.length);\n   for (var i = 0, l = string.length; i < l; i++) {\n       array[i] = string.charCodeAt(i);\n    }\n    return array.buffer;\n}\n\n// ASCII only\nfunction bytesToString(buffer) {\n    return String.fromCharCode.apply(null, new Uint8Array(buffer));\n}\n\nYou can read more about typed arrays in these articles on MDN and HTML5 Rocks.\nUUIDs\n\nUUIDs are always strings and not numbers. Some 16-bit UUIDs, such as '2220' look like integers, but they're not. (The integer 2220 is 0x8AC in hex.) This isn't a problem with 128 bit UUIDs since they look like strings 82b9e6e1-593a-456f-be9b-9215160ebcac. All 16-bit UUIDs should also be passed to methods as strings.\nInstance Members\nscan(services, seconds)\n\nScan and discover BLE peripherals for the specified amount of time.\nParam \tType \tDetails\nservices \tstring[] \t\n\nList of service UUIDs to discover, or [] to find all devices\nseconds \tnumber \t\n\nNumber of seconds to run discovery\n\nReturns: Observable<any> Returns an Observable that notifies of each peripheral that is discovered during the specified time.\nstartScan(services)\n\nScan and discover BLE peripherals until stopScan is called.\nParam \tType \tDetails\nservices \tstring[] \t\n\nList of service UUIDs to discover, or [] to find all devices\n\nReturns: Observable<any> Returns an Observable that notifies of each peripheral discovered.\nstartScanWithOptions(services, options)\n\nScans for BLE devices. This function operates similarly to the startScan function, but allows you to specify extra options (like allowing duplicate device reports).\nParam \tType \tDetails\nservices \tstring[] \t\n\nList of service UUIDs to discover, or [] to find all devices\noptions \tany \t\n\nReturns: Observable<any> Returns an Observable that notifies of each peripheral discovered.\nstopScan()\n\nStop a scan started by startScan.\n\nReturns: returns a Promise.\nconnect(deviceId)\n\nConnect to a peripheral.\nParam \tType \tDetails\ndeviceId \tstring \t\n\nUUID or MAC address of the peripheral\n\nReturns: Returns an Observable that notifies of connect/disconnect.\ndisconnect(deviceId)\n\nDisconnect from a peripheral.\nParam \tType \tDetails\ndeviceId \tstring \t\n\nUUID or MAC address of the peripheral\n\nReturns: Returns a Promise\nread(deviceId, serviceUUID, characteristicUUID)\n\nRead the value of a characteristic.\nParam \tType \tDetails\ndeviceId \tstring \t\n\nUUID or MAC address of the peripheral\nserviceUUID \tstring \t\n\nUUID of the BLE service\ncharacteristicUUID \tstring \t\n\nUUID of the BLE characteristic\n\nReturns: Returns a Promise\nwrite(deviceId, serviceUUID, characteristicUUID, value)\n\nWrite the value of a characteristic.\nParam \tType \tDetails\ndeviceId \tstring \t\n\nUUID or MAC address of the peripheral\nserviceUUID \tstring \t\n\nUUID of the BLE service\ncharacteristicUUID \tstring \t\n\nUUID of the BLE characteristic\nvalue \tArrayBuffer \t\n\nData to write to the characteristic, as an ArrayBuffer.\n\nReturns: Returns a Promise\nwriteWithoutResponse(deviceId, serviceUUID, characteristicUUID, value)\n\nWrite the value of a characteristic without waiting for confirmation from the peripheral.\nParam \tType \tDetails\ndeviceId \tstring \t\n\nUUID or MAC address of the peripheral\nserviceUUID \tstring \t\n\nUUID of the BLE service\ncharacteristicUUID \tstring \t\n\nUUID of the BLE characteristic\nvalue \tArrayBuffer \t\n\nData to write to the characteristic, as an ArrayBuffer.\n\nReturns: Returns a Promise\nstartNotification(deviceId, serviceUUID, characteristicUUID)\n\nRegister to be notified when the value of a characteristic changes.\nParam \tType \tDetails\ndeviceId \tstring \t\n\nUUID or MAC address of the peripheral\nserviceUUID \tstring \t\n\nUUID of the BLE service\ncharacteristicUUID \tstring \t\n\nUUID of the BLE characteristic\n\nReturns: Returns an Observable that notifies of characteristic changes.\nstopNotification(deviceId, serviceUUID, characteristicUUID)\n\nStop being notified when the value of a characteristic changes.\nParam \tType \tDetails\ndeviceId \tstring \t\n\nUUID or MAC address of the peripheral\nserviceUUID \tstring \t\n\nUUID of the BLE service\ncharacteristicUUID \tstring \t\n\nUUID of the BLE characteristic\n\nReturns: Promise<any>\nisConnected(deviceId)\n\nReport the connection status.\nParam \tType \tDetails\ndeviceId \tstring \t\n\nUUID or MAC address of the peripheral\n\nReturns: Promise<any>\nisEnabled()\n\nReport if bluetooth is enabled.\n\nReturns: Promise<void> Returns a Promise that resolves if Bluetooth is enabled, and rejects if disabled.\nstartStateNotifications()\n\nRegister to be notified when Bluetooth state changes on the device.\n\nReturns: Returns an Observable that notifies when the Bluetooth is enabled or disabled on the device.\nstopStateNotifications()\n\nStop state notifications.\n\nReturns: Promise<any>\nshowBluetoothSettings()\n\nOpen System Bluetooth settings (Android only).\n\nReturns: Promise<any>\nenable()\n\nEnable Bluetooth on the device (Android only).\n\nReturns: Promise<any>\nreadRSSI(deviceId)\n\nRead the RSSI value on the device connection.\nParam \tType \tDetails\ndeviceId \tstring \t\n\nUUID or MAC address of the peripheral\n\nReturns: Promise<any>\nBLEScanOptions\nParam \tType \tDetails\nreportDuplicates \tboolean \t\n\ntrue if duplicate devices should be reported, false (default) if devices should only be reported once.\n(optional)\n*/\n\n\n// WEBPACK FOOTER //\n// ./src/providers/ble-service/ble-service.ts","import { Component } from '@angular/core';\nimport { NavController, NavParams } from 'ionic-angular';\nimport { Usuario } from '../../models/usuario';\nimport { BuscadorPage } from '../buscador/buscador';\nimport { Subscription } from 'rxjs/Subscription';\nimport { FirebaseServiceProvider } from '../../providers/firebase-service/firebase-service';\nimport { UsuarioPage } from '../usuario/usuario';\n\n@Component({\n  selector: 'page-list',\n  templateUrl: 'list.html'\n})\nexport class ListPage {\n\n  selectedUser: any;\n  usuarios: Usuario[];\n  usuariosRef: Subscription;\n  \n  constructor(public navCtrl: NavController, \n              public navParams: NavParams,\n              private _firebaseService: FirebaseServiceProvider) {\n\n    // traemos de base de datos la lista de usuarios registrados\n    // nos suscribimos a observable de usuarios, la lista de usuarios guardados en base de datos\n    this.usuariosRef = this._firebaseService.usuariosSalida$.subscribe(response => {\n      this.usuarios = response;\n    })\n\n  }\n\n  seleccionar(usuario) {\n    this.selectedUser = usuario;\n  }\n  \n  buscar(usuario) {\n    this.navCtrl.push(BuscadorPage, {usuario: usuario, mode: 'edit'});\n  }\n\n  nuevoUsuario() {\n    this.navCtrl.push(UsuarioPage, {});\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/list/list.ts","import { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app.module';\n\nplatformBrowserDynamic().bootstrapModule(AppModule);\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/main.ts","import { BrowserModule } from '@angular/platform-browser';\nimport { ErrorHandler, NgModule } from '@angular/core';\nimport { IonicApp, IonicErrorHandler, IonicModule } from 'ionic-angular';\nimport { HttpModule } from '@angular/http';\nimport { HttpClientModule } from '@angular/common/http';\n\nimport { MyApp } from './app.component';\nimport { HomePage } from '../pages/home/home';\nimport { ListPage } from '../pages/list/list';\nimport { Firebase } from '@ionic-native/firebase';\nimport { BLE } from '@ionic-native/ble';\n\nimport { StatusBar } from '@ionic-native/status-bar';\nimport { SplashScreen } from '@ionic-native/splash-screen';\nimport { BuscadorPage } from '../pages/buscador/buscador';\nimport { NewDispositivoPage } from '../pages/new-dispositivo/new-dispositivo';\nimport { UsuarioPage } from '../pages/usuario/usuario';\n\n// firebase imports\nimport { FirebaseServiceProvider } from '../providers/firebase-service/firebase-service';\nimport { AngularFireModule } from 'angularfire2';\nimport { AngularFireDatabaseModule } from 'angularfire2/database';\nimport * as firebase from 'firebase/app';\nimport { BleServiceProvider } from '../providers/ble-service/ble-service';\n\n// configuracion de la base de datos proporcionada por mi firebase\nexport const firebaseConfig = {\n  apiKey: \"AIzaSyDUv_kWR7GzdL0UE7UrErbKzH1yIxiDDc8\",\n  authDomain: \"locapp-2fc27.firebaseapp.com\",\n  databaseURL: \"https://locapp-2fc27.firebaseio.com\",\n  projectId: \"locapp-2fc27\",\n  storageBucket: \"locapp-2fc27.appspot.com\",\n  messagingSenderId: \"235986032077\"\n}\nfirebase.initializeApp(firebaseConfig);\n@NgModule({\n  declarations: [\n    MyApp,\n    HomePage,\n    ListPage,\n    BuscadorPage,\n    NewDispositivoPage,\n    UsuarioPage\n  ],\n  imports: [\n    AngularFireModule.initializeApp(firebaseConfig),\n    BrowserModule,\n    IonicModule.forRoot(MyApp),    \n    AngularFireDatabaseModule,\n    HttpModule,\n    HttpClientModule\n  ],\n  bootstrap: [IonicApp],\n  entryComponents: [\n    MyApp,\n    HomePage,\n    ListPage,\n    BuscadorPage,\n    NewDispositivoPage,\n    UsuarioPage\n  ],\n  providers: [\n    StatusBar,\n    SplashScreen,\n    Firebase,\n    {provide: ErrorHandler, useClass: IonicErrorHandler},\n    FirebaseServiceProvider,\n    BLE,\n    BleServiceProvider\n  ]\n})\nexport class AppModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.module.ts","export class Dispositivo {\r\n    constructor(\r\n        public _id: string,     \r\n        public uuid: string,\r\n        public nombre_dispositivo: string,\r\n        public descripcion: string\r\n    ) {}\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/models/dispositivo.ts","import { Component, ViewChild } from '@angular/core';\nimport { Nav, Platform } from 'ionic-angular';\nimport { StatusBar } from '@ionic-native/status-bar';\nimport { SplashScreen } from '@ionic-native/splash-screen';\n\nimport { HomePage } from '../pages/home/home';\nimport { ListPage } from '../pages/list/list';\nimport { BuscadorPage } from '../pages/buscador/buscador';\nimport { NewDispositivoPage } from '../pages/new-dispositivo/new-dispositivo';\nimport { UsuarioPage } from '../pages/usuario/usuario';\n\n@Component({\n  templateUrl: 'app.html'\n})\nexport class MyApp {\n  @ViewChild(Nav) nav: Nav;\n\n  rootPage: any = HomePage;\n\n  pages: Array<{title: string, component: any}>;\n\n  constructor(public platform: Platform, public statusBar: StatusBar, public splashScreen: SplashScreen) {\n    this.initializeApp();\n    \n    this.pages = [\n      { title: 'Inicio', component: HomePage },\n      { title: 'Nuevo Usuario', component: UsuarioPage },\n      { title: 'Usuarios', component: ListPage },\n      { title: 'Dispositivos', component: NewDispositivoPage },\n      { title: 'Buscador', component: BuscadorPage }      \n    ];\n\n  }\n\n  initializeApp() {\n    this.platform.ready().then(() => {\n      // Okay, so the platform is ready and our plugins are available.\n      // Here you can do any higher level native things you might need.\n      this.statusBar.styleDefault();\n      this.splashScreen.hide();\n    });\n  }\n\n  openPage(page) {\n    // Reset the content nav to have just this page\n    // we wouldn't want the back button to show in this scenario\n    this.nav.setRoot(page.component);\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.component.ts","import { Component,  ElementRef,  ViewChild } from '@angular/core';\nimport { IonicPage, NavController, NavParams } from 'ionic-angular';\nimport { Usuario } from '../../models/usuario';\n\n/**\n * Generated class for the BuscadorPage page.\n *\n * See https://ionicframework.com/docs/components/#navigation for more info on\n * Ionic pages and navigation.\n */\n\n@IonicPage()\n@Component({\n  selector: 'page-buscador',\n  templateUrl: 'buscador.html',\n})\nexport class BuscadorPage {\n\n  NUMERO_DE_ARCOS = 6;\n\n  @ViewChild('canvas') canvasEl : ElementRef;\n\n  /** Reference Canvas object  */\n  private _CANVAS  : any;\n\n  /** Reference the context for the Canvas element  */\n  private _CONTEXT : any;\n\n  usuario: Usuario;\n  modo: String;\n\n  constructor(public navCtrl: NavController, public navParams: NavParams) {\n    if (navParams.get('usuario')) {\n      this.usuario = navParams.get('usuario');\n    } else {\n      this.usuario = new Usuario('', '', '', '', 0, '', '');\n    }\n\n    if (navParams.get('mode')) {\n      this.modo = navParams.get('mode');\n    } else {\n      this.modo = '';\n    }\n    \n    \n    console.log('Usuario: ', this.usuario);\n    console.log('Modo: ',this.modo);\n  }\n\n  ionViewDidLoad() {    \n    this._CANVAS \t    = this.canvasEl.nativeElement;\n    this._CANVAS.width  \t= 250;\n    this._CANVAS.height \t= 250;    \n    this.initialiseCanvas();    \n  }\n\n  initialiseCanvas() {\n    if(this._CANVAS.getContext) {\n        this.setupCanvas();\n    }\n  }\n\n  setupCanvas() {\n    this._CONTEXT = this._CANVAS.getContext('2d');\n    this._CONTEXT.fillStyle = \"#6b9b83\";\n    this._CONTEXT.fillRect(0, 0, 500, 500);\n  }\n\n  clearCanvas() {\n    this._CONTEXT.clearRect(0, 0, this._CANVAS.width, this._CANVAS.height);\n    this.setupCanvas();\n  }\n\n  drawCircle() {\n    this.clearCanvas();\n    this._CONTEXT.beginPath();\n    // x, y, radius, startAngle, endAngle\n    this._CONTEXT.arc(this._CANVAS.width/2, this._CANVAS.height/2, 120, 0, 2 * Math.PI);  \n    this._CONTEXT.arc(this._CANVAS.width/2, this._CANVAS.height/2, 100, 0, 2 * Math.PI);    \n    this._CONTEXT.arc(this._CANVAS.width/2, this._CANVAS.height/2, 80, 0, 2 * Math.PI);    \n    this._CONTEXT.lineWidth = 1;\n    this._CONTEXT.strokeStyle = '#ffffff';\n    this._CONTEXT.stroke(); \n    this._CONTEXT.closePath();    \n    this._CONTEXT.beginPath();\n    this._CONTEXT.arc(this._CANVAS.width/2, this._CANVAS.height/2, 60, 0, 2 * Math.PI);    \n    this._CONTEXT.lineWidth = 2;\n    this._CONTEXT.strokeStyle = '#c82124';\n    this._CONTEXT.stroke(); \n    this._CONTEXT.closePath();\n    this._CONTEXT.beginPath();    \n    this._CONTEXT.arc(this._CANVAS.width/2, this._CANVAS.height/2, 40, 0, 2 * Math.PI);\n    this._CONTEXT.arc(this._CANVAS.width/2, this._CANVAS.height/2, 20, 0, 2 * Math.PI);    \n    this._CONTEXT.lineWidth = 1;\n    this._CONTEXT.strokeStyle = '#ffffff';\n    this._CONTEXT.stroke(); \n    this._CONTEXT.closePath();\n  }\n\n  // le pasaremos un número que puede ser directamente el valor de la potencia de la señal\n  // y a partir de eso calculará el círculo a pintar en rojo y el resto en gris\n  drawRadar(senial:number) {\n    let radio_max = 120; // seteo el radio exterior\n    let radio = radio_max;\n    let arco_actual = this.NUMERO_DE_ARCOS;\n    // distancia tendrá el arco que corresponde para esa señal\n    let distancia = Math.round(senial/(radio/this.NUMERO_DE_ARCOS));//radio es el arco mas grande posible\n    this.clearCanvas();\n    // dibujamos los arcos\n    for(let i = 0; i < this.NUMERO_DE_ARCOS; i++) {\n      console.log('Distancia =', distancia);\n      console.log('Arco actual =', arco_actual);\n      this._CONTEXT.beginPath();\n      if (distancia===arco_actual) {\n        this._CONTEXT.arc(this._CANVAS.width/2, this._CANVAS.height/2, radio, 0, 2 * Math.PI); // x, y, radius, startAngle, endAngle \n        this._CONTEXT.lineWidth = 5;\n        this._CONTEXT.strokeStyle = '#c82124';\n      } else {\n        this._CONTEXT.arc(this._CANVAS.width/2, this._CANVAS.height/2, radio, 0, 2 * Math.PI); // x, y, radius, startAngle, endAngle \n        this._CONTEXT.lineWidth = 1;\n        this._CONTEXT.strokeStyle = '#ffffff';\n      }      \n      this._CONTEXT.stroke(); \n      this._CONTEXT.closePath();\n      radio = radio - (radio_max/this.NUMERO_DE_ARCOS);\n      arco_actual--;\n    }\n\n    // o bien metemos aquí la lógica de señalar si vamos en buena dirección o la pasamos a otro sitio\n    this._CONTEXT.beginPath();\n    this._CONTEXT.moveTo(this._CANVAS.width/2, this._CANVAS.height/2);\n    this._CONTEXT.lineTo(this._CANVAS.width/2, 5);\n    this._CONTEXT.lineTo(this._CANVAS.width/2-30, 60);\n    this._CONTEXT.moveTo(this._CANVAS.width/2+30, 60);\n    this._CONTEXT.lineTo(this._CANVAS.width/2, 5);\n    //this._CONTEXT.lineJoin = 'miter'; // para terminar en punta pero no le hago funcionar :(\n    this._CONTEXT.lineCap=\"round\";\n    this._CONTEXT.lineWidth = 15;\n    this._CONTEXT.strokeStyle = '#c82124';\n    this._CONTEXT.stroke(); \n    this._CONTEXT.closePath();\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/buscador/buscador.ts","import { Component } from '@angular/core';\nimport { IonicPage, NavController, NavParams } from 'ionic-angular';\nimport { NewDispositivoPage } from '../new-dispositivo/new-dispositivo';\nimport { Usuario } from '../../models/usuario';\nimport { HomePage } from '../../pages/home/home';\nimport { FirebaseServiceProvider } from '../../providers/firebase-service/firebase-service';\nimport { AlertController } from 'ionic-angular/components/alert/alert-controller';\n\n/**\n * Generated class for the UsuarioPage page.\n *\n * Página para dar de alta nuevos usuarios y modificar existentes\n * Aquí relacionaremos un usuario con un dispositivo concreto \n *\n */\n\n@IonicPage() \n@Component({\n  selector: 'page-usuario',\n  templateUrl: 'usuario.html',\n})\nexport class UsuarioPage {\n\n  public usuario : Usuario;\n\n  constructor(\n    public navCtrl: NavController,\n    public navParams: NavParams,\n    public _firebaseService: FirebaseServiceProvider,\n    private alertCtrl: AlertController\n  ) {\n    // si estamos en modo new inicializamos el usuario\n    this.usuario = new Usuario('', '', '', '', 0, '', '');\n    // si es edit los datos del usuario los tendremos, o bien pasados directamente o a partir por ejemplo del id buscar el resto de base de datos\n  }\n\n  ionViewDidLoad() {\n    \n  }\n\n  newUser(usuario: Usuario) {\n    // conectamos con base de datos y damos de alta un nuevo usuario\n    this._firebaseService.newUsuario(usuario);\n  }\n\n  editUser() {\n    // editamos los datos de un usuario existente \n  }\n\n  myCallbackFunction = function(_params) {\n    return new Promise((resolve, reject) => {\n      this.usuario = _params;\n      resolve();\n    });\n  }\n\n  // Función que abre la ventana de busqueda de dispositivos\n  asignarDispositivo() {    \n    this.usuario.id_dispositivo = ''; // si ya tenía uno asignado se lo quitamos\n    // navegamos a ventana de busqueda de dispositivos pasandole el usuario y el callback para añadir el dispositivo\n    this.navCtrl.push(NewDispositivoPage, { usuario: this.usuario, callback: this.myCallbackFunction});\n  }\n\n  // Función para quitar dispositivo asignado al usuario\n  desasignarDispositivo() {    \n    this.usuario.id_dispositivo = '';\n  }\n\n  // guardamos los datos en bbdd y navegamos a inicio\n  guardar() {    \n    console.log('TODO Guardamos el usuario ', this.usuario);\n    this.newUser(this.usuario);\n    this.presentAlert();\n    this.navCtrl.setRoot(HomePage);\n    this.navCtrl.goToRoot;    \n  }\n\n  // alert de aviso de nuevo usuario\n  presentAlert() {\n    let alert = this.alertCtrl.create({\n      title: 'Nuevo usuario',\n      subTitle: 'Usuario nuevo registrado correctamente.',\n      buttons: ['Cerrar']\n    });\n    alert.present();\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/usuario/usuario.ts","import { Component } from '@angular/core';\nimport { IonicPage, NavController, NavParams } from 'ionic-angular';\nimport { Dispositivo } from '../../models/dispositivo'\nimport { Usuario } from '../../models/usuario';\nimport { Subscription } from 'rxjs/Subscription';\nimport { BleServiceProvider } from '../../providers/ble-service/ble-service';\n\n/**\n * Generated class for the NewDispositivoPage page.\n *\n * Aquí la búsqueda de dispositivos y asignación a un usuario.\n */\n\n@IonicPage()\n@Component({\n  selector: 'page-new-dispositivo',\n  templateUrl: 'new-dispositivo.html',\n})\nexport class NewDispositivoPage {\n\n  dispositivosConocidos : Dispositivo[];\n  dispositivos : Dispositivo[];\n  usuario : Usuario;\n  callback;\n  dispositivosRef: Subscription;\n\n  constructor(\n    public navCtrl: NavController, \n    public navParams: NavParams,\n    private _bleService: BleServiceProvider\n  ) {    \n    \n  }\n\n  ionViewDidLoad() {    \n    this.usuario = this.navParams.get('usuario');\n    this.callback = this.navParams.get('callback');\n\n    /* Buscamos dispositivos guardados anteriormente.\n      puede que tengamos que diferenciar los que están asignados de los que no y mostrar algo distinto (color o icono) \n      y la posibilidad de quitar asignacion anterior y asignar a otro usuario, igual se puede mostrar el color en rojo\n      si está en uso y gris si no y meter botón de olvidar\n    */\n\n    // buscar los dispositivos guardados anteriormente\n    // simulamos esta busqueda en nuestra base de datos (no se si necesitaremos indicador de asignado)\n    this.dispositivosConocidos = [ new Dispositivo ('ID11', '000000011', 'Dispositivo 11', 'Dispositivo conocido 11')];\n    this.dispositivosConocidos.push( new Dispositivo('ID12', '000000012', 'Dispositivo 12', 'Dispositivo conocido 12') );\n        \n  }\n\n  buscar() {\n    // simulado\n    this.dispositivos = [ new Dispositivo ('ID01', '000000000', 'Dispositivo 0', 'Dispositivo simulado 0')];\n    this.dispositivos.push( new Dispositivo('ID02', '000000001', 'Dispositivo 1', 'Dispositivo simulado 1') );\n    this.dispositivos.push( new Dispositivo('ID03', '000000002', 'Dispositivo 2', 'Dispositivo simulado 2') );\n    this.dispositivos.push( new Dispositivo('ID04', '000000003', 'Dispositivo 3', 'Dispositivo simulado 3') );\n    // verdadero \n\n    // nos suscribimos a observable de dispositivos, la lista de dispositivos que encuentra\n    this.dispositivosRef = this._bleService.dispositivosSalida$.subscribe(response => {\n      this.dispositivos = response;\n    })\n    \n    this._bleService.scan();\n\n    \n  }\n\n  registrar(dispositivo: Dispositivo) {\n    this.usuario.id_dispositivo = dispositivo._id;\n    // hacemos uso de callback para pasar el usuario modificado con el id del dispositivo   \n    this.callback(this.usuario).then(()=>{      \n      this.navCtrl.pop();\n    });\n    \n  }\n\n \n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/new-dispositivo/new-dispositivo.ts"],"sourceRoot":""}